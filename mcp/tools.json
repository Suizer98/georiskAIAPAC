[
  {
    "type": "function",
    "function": {
      "name": "create_risk",
      "description": "Create a risk entry in MCP",
      "request": { "method": "POST", "path": "/api/risk" },
      "parameters": {
        "type": "object",
        "properties": {
          "country": { "type": "string" },
          "city": { "type": "string" },
          "latitude": { "type": "number" },
          "longitude": { "type": "number" },
          "risk_level": { "type": "number" }
        },
        "required": [
          "country",
          "city",
          "latitude",
          "longitude",
          "risk_level"
        ]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "list_risk",
      "description": "List risk entries from MCP",
      "request": { "method": "GET", "path": "/api/risk" },
      "parameters": {
        "type": "object",
        "properties": {
          "country": { "type": "string" },
          "city": { "type": "string" }
        }
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "update_risk",
      "description": "Update a risk entry in MCP by id",
      "request": { "method": "PUT", "path": "/api/risk/{risk_id}" },
      "parameters": {
        "type": "object",
        "properties": {
          "risk_id": { "type": "integer" },
          "country": { "type": "string" },
          "city": { "type": "string" },
          "latitude": { "type": "number" },
          "longitude": { "type": "number" },
          "risk_level": { "type": "number" }
        },
        "required": ["risk_id"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "web_search",
      "description": "Search the internet for real-time information.",
      "request": { "method": "GET", "path": "/api/search" },
      "parameters": {
        "type": "object",
        "properties": {
          "query": { "type": "string", "description": "The search query" }
        },
        "required": ["query"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "score_military",
      "description": "Compute military threat score (0-1) from a fixed source.",
      "request": { "method": "GET", "path": "/api/score/military" },
      "parameters": {
        "type": "object",
        "properties": {
          "country": { "type": "string" }
        },
        "required": ["country"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "score_economy",
      "description": "Compute economy stability score (0-1) from a fixed source.",
      "request": { "method": "GET", "path": "/api/score/economy" },
      "parameters": {
        "type": "object",
        "properties": {
          "country": { "type": "string" }
        },
        "required": ["country"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "score_safety",
      "description": "Compute safety score (0-1) from a fixed source.",
      "request": { "method": "GET", "path": "/api/score/safety" },
      "parameters": {
        "type": "object",
        "properties": {
          "country": { "type": "string" }
        },
        "required": ["country"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "score_uncertainty",
      "description": "Compute economic policy uncertainty score (0-1) from a real-time source.",
      "request": { "method": "GET", "path": "/api/score/uncertainty" },
      "parameters": {
        "type": "object",
        "properties": {
          "country": { "type": "string" }
        },
        "required": ["country"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "score_ambassy_advice",
      "description": "Compute US State Department travel advisory score (0-1) based on travel advisory level (Level 1-4).",
      "request": { "method": "GET", "path": "/api/score/ambassy_advice" },
      "parameters": {
        "type": "object",
        "properties": {
          "country": { "type": "string" }
        },
        "required": ["country"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "score_overall",
      "description": "Compute overall risk score using the fixed-source factor scores.",
      "request": { "method": "GET", "path": "/api/score/overall" },
      "parameters": {
        "type": "object",
        "properties": {
          "country": { "type": "string" }
        },
        "required": ["country"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "map_zoom_to_place",
      "description": "Ask the frontend map to zoom to a place. Pass 'place' (e.g. Singapore, Jakarta) for APAC names in the backend map; if the place is not in the map, pass 'latitude' and 'longitude' instead.",
      "request": { "method": "POST", "path": "/api/map-actions" },
      "parameters": {
        "type": "object",
        "properties": {
          "place": { "type": "string", "description": "Place name (APAC country or city in map)" },
          "latitude": { "type": "number", "description": "Latitude (use when place not in map)" },
          "longitude": { "type": "number", "description": "Longitude (use when place not in map)" }
        }
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "gdelt_risk_hotspots",
      "description": "Get GDELT risk hotspots (lat/lon) for a topic. Use when the user asks to show risk hotspots for a specific topic (e.g. Nipah virus, military, disease outbreak). Updates the map with hotspots and returns the data.",
      "request": { "method": "POST", "path": "/api/gdelt" },
      "parameters": {
        "type": "object",
        "properties": {
          "query": { "type": "string", "description": "Topic keyword for GDELT (e.g. nipah virus, military, disease outbreak)" },
          "timespan": { "type": "string", "description": "Time window (e.g. 24h, 48h, 7d). Optional, default 24h." }
        },
        "required": ["query"]
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "list_tools",
      "description": "List available MCP tools",
      "request": { "method": "GET", "path": "/api/tools" }
    }
  }
]
